{% load templatetag_handlebars %}
{% tplhandlebars "list-courses-for-major-outer" %}

<div class='course-card row' id='{{ id }}'>
    <p class='college-heading'>{{ college }} - {{ campus }} campus</p>
    <div class='col-xs-9'>
        <h2 class='major-heading-course'>{{{ major_status_url }}}</h2>
        <div class='major-gpa-line'>
            {{{ major_status_icon }}}   {{{ major_status_text }}}
            <span class='gpa-small'>  Median GPA: {{{ median_gpa }}} </span>
        </div>
    </div>
</div>
<!--
    </div>
    </p>
-->
<div class='col-xs-10'>
    <table class='table table-striped'>
	    <caption class="sr-only">Most commonly taken courses among {{{ major_status_url }}} students</caption>
        <thead>
            <tr>
                <th scope="col">
                    <p class='data-heading'>%
                        <a class='inlineHelp' id='percentHelp' tabindex='0' role='button' aria-label='Show info about the percent' data-toggle='popover' data-trigger='focus' data-content=''>
                            <span class='glyphicon glyphicon-info-sign' aria-hidden='true'></span>
                        </a>
                    </p>
                </th>
                <th scope="col">
                    <p class='data-heading'>Code</p>
                </th>
                <th scope="col">
                    <p class='data-heading'>Most Commonly Taken Courses</p>
                </th>
                <th scope="col">
                    <p class='data-heading'>Median Course Grade
                        <a class='inlineHelp' id='courseGradeHelp' tabindex='0' role='button' aria-label='Show info about median course grade' data-toggle='popover' data-trigger='focus' data-content=''>
                            <span class='glyphicon glyphicon-info-sign' aria-hidden='true'></span>
                        </a>
                    </p>
                </th>
            </tr>
        </thead>
        <tbody>
            <!-- Inner table data goes here-->
            {{ #each inner_table_data }}
            <tr>
                {{ #with this }}
                <td>
                    <p>{{ popularity }}</p>
                </td>
                <td>
                    <p class='coursecode'>{{ dept_abbrev }} {{ course_number }}</p>
                </td>
                <td>
                    <p>{{ course_long_name }}</p>
                </td>
                <td>
                    <p class='course-median course-table-row {{ col }}'>{{ percentile }}</p>
                </td>
                {{ /with }}
            </tr>
            {{ /each }}
        </tbody>
    </table>
</div>

<div class='col-xs-2 panel panel-default bar-legend'>
    <p>Color Legend:</p>
    <div id='color-legend'>
        <div class='q0-9 color-block'></div><div class='bar-legend-0'> 1.50 to 1.99</div>
        <div class='q1-9 color-block'></div><div class='bar-legend-0'> 2.00 to 2.49</div>
        <div class='q2-9 color-block'></div><div class='bar-legend-0'> 2.50 to 2.99</div>
        <div class='q3-9 color-block'></div><div class='bar-legend-0'> 3.00 to 3.49</div>
        <div class='q4-9 color-block'></div><div class='bar-legend-0'> 3.50 to 4.00</div>
        <div class='q9-9 color-block'></div>
    </div>
</div>

{% endtplhandlebars %}
